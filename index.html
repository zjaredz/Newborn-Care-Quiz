<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newborn & Post-Partum Care Quiz</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .quiz-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            max-width: 800px;
            width: 100%;
            overflow: hidden;
            position: relative;
        }

        .quiz-header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .quiz-title {
            font-size: 2.2em;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .quiz-subtitle {
            font-size: 1.1em;
            opacity: 0.9;
            font-weight: 300;
        }

        .score-display {
            position: absolute;
            top: 20px;
            right: 30px;
            background: rgba(255, 255, 255, 0.2);
            padding: 10px 20px;
            border-radius: 50px;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .quiz-body {
            padding: 40px;
        }

        .question-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 0;
            margin-bottom: 20px;
            border-left: 5px solid #4facfe;
            transition: all 0.5s ease;
            transform-style: preserve-3d;
            height: 550px;
            position: relative;
            overflow: hidden;
        }

        .card-front, .card-back {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            padding: 25px;
            backface-visibility: hidden;
            transition: transform 0.6s ease;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .card-back {
            transform: rotateY(180deg);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
        }

        .question-card.flipped .card-front {
            transform: rotateY(-180deg);
        }

        .question-card.flipped .card-back {
            transform: rotateY(0deg);
        }

        .question-number {
            color: #667eea;
            font-weight: 600;
            font-size: 0.9em;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .question-text {
            font-size: 1.3em;
            font-weight: 600;
            color: #2c3e50;
            line-height: 1.4;
            margin-bottom: 25px;
        }

        .options-container {
            display: grid;
            gap: 15px;
        }

        .option {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 18px 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            font-size: 1.05em;
            position: relative;
            overflow: hidden;
        }

        .option:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border-color: #4facfe;
        }

        .option.selected {
            background: #4facfe;
            color: white;
            border-color: #4facfe;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(79, 172, 254, 0.3);
        }

        .option.correct {
            background: #10b981;
            color: white;
            border-color: #10b981;
        }

        .option.incorrect {
            background: #ef4444;
            color: white;
            border-color: #ef4444;
        }

        .option-letter {
            font-weight: 700;
            margin-right: 15px;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9em;
            flex-shrink: 0;
        }

        .option.selected .option-letter,
        .option.correct .option-letter,
        .option.incorrect .option-letter {
            background: rgba(255, 255, 255, 0.2);
        }

        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            gap: 15px;
        }

        .controls .btn-group {
            display: flex;
            gap: 10px;
        }

        .controls .btn-group .btn {
            flex: 1;
            min-width: 100px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            font-size: 0.95em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-secondary {
            background: transparent;
            color: #667eea;
            border: 2px solid #667eea;
        }

        .btn-secondary:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }

        .explanation-card {
            padding: 0;
            margin: 0;
        }

        .explanation-title {
            font-size: 1.3em;
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .explanation-text {
            font-size: 1em;
            line-height: 1.5;
            opacity: 0.95;
            font-weight: 400;
        }

        .back-question-summary {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            border-left: 3px solid rgba(255, 255, 255, 0.3);
        }

        .back-question-text {
            font-size: 1.1em;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .back-correct-answer {
            font-size: 0.95em;
            opacity: 0.9;
            font-weight: 500;
        }

        .result-indicator {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: 700;
            font-size: 1.2em;
        }

        .correct-indicator {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
        }

        .incorrect-indicator {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        .progress-bar {
            height: 6px;
            background: #e9ecef;
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            width: 0%;
            transition: width 0.5s ease;
        }

        .quiz-complete {
            text-align: center;
            padding: 40px;
        }

        .final-score {
            font-size: 3em;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 20px;
        }

        .score-message {
            font-size: 1.3em;
            color: #64748b;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .quiz-container {
                margin: 10px;
            }
            
            .quiz-header {
                padding: 20px;
            }
            
            .quiz-title {
                font-size: 1.6em;
            }
            
            .quiz-subtitle {
                font-size: 1em;
            }
            
            .score-display {
                position: static;
                margin-top: 15px;
                display: inline-block;
                padding: 8px 16px;
                font-size: 0.9em;
            }
            
            .quiz-body {
                padding: 15px;
            }
            
            .question-card {
                padding: 20px;
                margin-bottom: 15px;
                min-height: 350px;
            }
            
            .card-front, .card-back {
                padding: 20px;
            }
            
            .question-text {
                font-size: 1.15em;
                margin-bottom: 20px;
            }
            
            .option {
                padding: 15px 18px;
                font-size: 1em;
            }
            
            .controls {
                margin-top: 15px;
                flex-direction: column;
                gap: 10px;
            }
            
            .controls .btn-group {
                width: 100%;
                order: 2;
            }
            
            .controls .btn-secondary {
                order: 1;
                align-self: flex-start;
            }
            
            .btn {
                padding: 12px 20px;
                font-size: 0.9em;
            }

            /* iOS specific fixes */
            .option {
                -webkit-tap-highlight-color: transparent;
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                user-select: none;
            }
            
            .btn {
                -webkit-tap-highlight-color: transparent;
                -webkit-appearance: none;
                border-radius: 25px;
            }
        }

        /* Additional iOS Safari fixes */
        @supports (-webkit-touch-callout: none) {
            .quiz-container {
                min-height: -webkit-fill-available;
            }
            
            body {
                min-height: -webkit-fill-available;
            }
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div class="quiz-header">
            <h1 class="quiz-title">Newborn & Post-Partum Care</h1>
            <p class="quiz-subtitle">Test your knowledge of essential newborn and post-partum care</p>
            <div class="score-display">
                Score: <span id="score">0</span>/<span id="total">0</span>
            </div>
        </div>

        <div class="quiz-body">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <div id="questionContainer">
                <!-- Questions will be loaded here -->
            </div>

            <div id="quizComplete" class="quiz-complete" style="display: none;">
                <div class="final-score" id="finalScore">0/0</div>
                <div class="score-message" id="scoreMessage"></div>
                <button class="btn btn-primary" onclick="restartQuiz()">Take Quiz Again</button>
            </div>
        </div>
    </div>

    <script>
        // Questions data
        const questions = [
            {
                question: "When should newborns have their first bowel movement?",
                options: [
                    "Within the first 6 hours after birth",
                    "Within the first 24-48 hours after birth",
                    "Within the first week after birth",
                    "Within the first 72 hours after birth"
                ],
                correct: 1,
                explanation: "Newborns should pass meconium (their first stool) within 24-48 hours after birth. Meconium is dark, tarry, and odorless. Failure to pass meconium within this timeframe may indicate intestinal obstruction or other gastrointestinal issues. Healthcare providers monitor this closely as delayed passage can signal conditions like Hirschsprung's disease or meconium ileus. After meconium passes, stools gradually transition to yellow, seedy consistency in breastfed babies or firmer, tan-colored stools in formula-fed babies."
            },
            {
                question: "What is the recommended room temperature for a newborn's sleep environment?",
                options: [
                    "65-68°F (18-20°C)",
                    "70-72°F (21-22°C)",
                    "68-70°F (20-21°C)",
                    "72-75°F (22-24°C)"
                ],
                correct: 2,
                explanation: "The optimal room temperature for newborn sleep is 68-70°F (20-21°C). This temperature range helps prevent overheating, which is a risk factor for SIDS (Sudden Infant Death Syndrome). Newborns have immature thermoregulation systems and can overheat easily. Signs of overheating include sweating, damp hair, flushed cheeks, heat rash, and rapid breathing. Dress babies in light sleep clothing and use a sleep sack instead of loose blankets. Feel the baby's chest or back of neck to check if they're too warm or cool."
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let selectedAnswer = null;
        let answered = false;

        function initializeQuiz() {
            document.getElementById('total').textContent = questions.length;
            loadQuestion();
        }

        function loadQuestion() {
            if (currentQuestion >= questions.length) {
                showQuizComplete();
                return;
            }

            const question = questions[currentQuestion];
            const container = document.getElementById('questionContainer');
            
            container.innerHTML = `
                <div class="question-card" id="questionCard">
                    <div class="card-front">
                        <div class="question-number">Question ${currentQuestion + 1} of ${questions.length}</div>
                        <div class="question-text">${question.question}</div>
                        
                        <div class="options-container">
                            ${question.options.map((option, index) => `
                                <div class="option" onclick="selectAnswer(${index})">
                                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                                    <div>${option}</div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div class="controls">
                            <button class="btn btn-secondary" onclick="previousQuestion()" ${currentQuestion === 0 ? 'style="visibility: hidden;"' : ''}>
                                Previous
                            </button>
                            <div class="btn-group">
                                <button class="btn btn-primary" id="submitBtn" onclick="submitAnswer()" disabled>
                                    Submit
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card-back">
                        <div class="explanation-card">
                            <div class="back-question-summary">
                                <div class="back-question-text">${question.question}</div>
                                <div class="back-correct-answer">
                                    <strong>Correct Answer:</strong> ${String.fromCharCode(65 + question.correct)}. ${question.options[question.correct]}
                                </div>
                            </div>
                            
                            <div class="explanation-title">
                                <div class="result-indicator" id="resultIndicator">
                                    ✓
                                </div>
                                <span id="resultText">Explanation</span>
                            </div>
                            <div class="explanation-text">${question.explanation}</div>
                        </div>
                        
                        <div class="controls">
                            <button class="btn btn-secondary" onclick="showFront()">
                                Back to Question
                            </button>
                            <div class="btn-group">
                                <button class="btn btn-primary" onclick="nextQuestion()">
                                    ${currentQuestion === questions.length - 1 ? 'Finish Quiz' : 'Next Question'}
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            updateProgress();
            selectedAnswer = null;
            answered = false;
        }

        function selectAnswer(index) {
            if (answered) return;
            
            selectedAnswer = index;
            
            // Remove previous selections
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Add selection to clicked option
            document.querySelectorAll('.option')[index].classList.add('selected');
            
            // Enable submit button
            document.getElementById('submitBtn').disabled = false;
        }

        function submitAnswer() {
            if (selectedAnswer === null || answered) return;
            
            answered = true;
            const question = questions[currentQuestion];
            const options = document.querySelectorAll('.card-front .option');
            
            // Show correct/incorrect styling
            options.forEach((option, index) => {
                option.style.cursor = 'default';
                if (index === question.correct) {
                    option.classList.add('correct');
                } else if (index === selectedAnswer && index !== question.correct) {
                    option.classList.add('incorrect');
                }
            });
            
            // Update score
            if (selectedAnswer === question.correct) {
                score++;
                document.getElementById('score').textContent = score;
            }
            
            // Update result indicator and text on back
            const resultIndicator = document.getElementById('resultIndicator');
            const resultText = document.getElementById('resultText');
            const isCorrect = selectedAnswer === question.correct;
            
            if (isCorrect) {
                resultIndicator.className = 'result-indicator correct-indicator';
                resultIndicator.textContent = '✓';
                resultText.textContent = 'Correct!';
            } else {
                resultIndicator.className = 'result-indicator incorrect-indicator';
                resultIndicator.textContent = '✗';
                resultText.textContent = 'Incorrect';
            }
            
            // Flip card to show explanation
            setTimeout(() => {
                document.getElementById('questionCard').classList.add('flipped');
            }, 500);
        }

        function showFront() {
            document.getElementById('questionCard').classList.remove('flipped');
        }

        function nextQuestion() {
            currentQuestion++;
            loadQuestion();
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion();
            }
        }

        function updateProgress() {
            const progress = ((currentQuestion) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function showQuizComplete() {
            document.getElementById('questionContainer').style.display = 'none';
            document.getElementById('quizComplete').style.display = 'block';
            
            const finalScore = document.getElementById('finalScore');
            const scoreMessage = document.getElementById('scoreMessage');
            
            finalScore.textContent = `${score}/${questions.length}`;
            
            const percentage = (score / questions.length) * 100;
            if (percentage >= 90) {
                scoreMessage.textContent = "Excellent! You have a strong understanding of newborn and post-partum care.";
            } else if (percentage >= 70) {
                scoreMessage.textContent = "Good job! You have a solid foundation in newborn and post-partum care.";
            } else if (percentage >= 50) {
                scoreMessage.textContent = "Not bad! Consider reviewing some areas of newborn and post-partum care.";
            } else {
                scoreMessage.textContent = "Keep studying! There's room for improvement in your newborn and post-partum care knowledge.";
            }
            
            // Update progress to 100%
            document.getElementById('progressFill').style.width = '100%';
        }

        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            selectedAnswer = null;
            answered = false;
            
            document.getElementById('score').textContent = '0';
            document.getElementById('questionContainer').style.display = 'block';
            document.getElementById('quizComplete').style.display = 'none';
            
            loadQuestion();
        }

        // Initialize the quiz when the page loads
        window.onload = initializeQuiz;
    </script>
</body>
</html>
